{% macro page(page) -%}
<article>
  <a href="{{ page.permalink | safe }}" class="catalogue-item">

    {# {% if page.taxonomies.categories %}<span class="categories">{{page.taxonomies.categories[0]}}</span>{% endif %}
    #}

    <h2 class="catalogue-title">{{ page.title }}</h2>
    <section class="catalogue-line">
      <p>{{ page.description | striptags | truncate(length=4000) | safe }}</p>
    </section>
  </a>

  {% if page.taxonomies.tags %}
  <ul class="tags">
    {% for tag in page.taxonomies.tags %}
    <li>
      #{{ tag | safe }}
    </li>
    {% endfor %}
  </ul>
  {% endif %}

  <div class="catalogue-extra">
    <span itemprop="datePublished">
      {{ page.date | date(format="%B %e, %Y") }}
    </span>
    - {{ page.reading_time }} minutes
  </div>

</article>

{%- endmacro %}


{% macro tag(page) %}
<a class="post" href="{{page.permalink}}">
  <article>
    <h2 class="title">{{page.title}}</h2>
    <span class="description">{{page.description}}</span>

    <div class="extra">
      <span itemprop="datePublished">{{ page.date | date(format="%d/%m/%Y") }}</span>
      - {{ page.reading_time }} minutes
    </div>
  </article>
</a>
{% endmacro post %}

{% macro post(page) %}
<a class="post" href="{{page.permalink}}">
    <article itemscope itemtype="http://schema.org/BlogPosting">
        {% if page.extra.image %}
        <meta itemprop="image" content="{{page.extra.image}}">
        {% else %}
        {% if config.extra.og_image %}
        <meta itemprop="image" content="{{config.extra.og_image}}">
        {% endif %}
        {% endif %}
        {% if page.taxonomies.categories %}<span class="category">{{page.taxonomies.categories[0]}}</span>{% endif %}
        <h2 class="title" itemprop="headline">{{page.title}}</h2>
        <span class="description">{{page.description}}</span>

        {# <address itemprop="author" itemscope itemtype="https://schema.org/Person">
            <span itemprop="name">{{page.extra.author}}</span>
        </address> #}

        <div class="extra">
            <span itemprop="datePublished">{{ page.date | date(format="%d/%m/%Y") }}</span>
            - {{ page.reading_time }} minutes
        </div>
    </article>
</a>
{% endmacro post %}